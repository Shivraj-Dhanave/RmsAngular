(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{PgJR:function(e,t,n){"use strict";n.r(t),n.d(t,"EmployeeModule",function(){return h});var o=n("1kSV"),s=n("3Pt+"),b=n("tk/3"),r=n("ofXK"),i=n("fXoL"),a=n("tyNb"),l=n("qjMU");function c(e,t){if(1&e){const e=i.Ob();i.Nb(0,"tr"),i.Nb(1,"td"),i.wc(2),i.Mb(),i.Nb(3,"td"),i.wc(4),i.Mb(),i.Nb(5,"td"),i.wc(6),i.Mb(),i.Nb(7,"td"),i.wc(8),i.Mb(),i.Nb(9,"td"),i.Nb(10,"button",8),i.Xb("click",function(){i.mc(e);const n=t.$implicit;return i.Zb().onEdit(n)}),i.wc(11,"Edit"),i.Mb(),i.Nb(12,"button",9),i.Xb("click",function(){i.mc(e);const n=t.$implicit;return i.Zb().onDelete(n)}),i.wc(13,"Delete"),i.Mb(),i.Mb(),i.Mb()}if(2&e){const e=t.$implicit;i.wb(2),i.xc(e.emp_id),i.wb(2),i.zc("",e.emp_first_name," ",e.emp_last_name,""),i.wb(2),i.xc(e.role),i.wb(2),i.xc(e.emp_phone_no)}}let m=(()=>{class e{constructor(e,t){this.router=e,this.employeeService=t,this.employees=[{}]}ngOnInit(){this.loadEmployees()}onEdit(e){this.router.navigate(["/adminHome/employee/employee-add"],{queryParams:{id:e.emp_id}})}onDelete(e){this.employeeService.deleteEmployee(e.emp_id).subscribe(e=>{"success"==e.status?this.loadEmployees():console.log(e.error)})}loadEmployees(){this.employeeService.getEmployees().subscribe(e=>{(e.status="success")?this.employees=e.data:console.log(e.error),console.log(this.employees)})}addEmployee(){this.router.navigate(["/adminHome/employee/employee-add"])}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(a.b),i.Ib(l.a))},e.\u0275cmp=i.Cb({type:e,selectors:[["app-employee-list"]],decls:22,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-success","float-right",2,"margin-left","10px",3,"click"],[1,"card-body"],[1,"table","table-striped","table-bordered"],[2,"width","100px"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",2,"margin-left","10px",3,"click"],[1,"btn","btn-danger","btn-sm",2,"margin-left","10px",3,"click"]],template:function(e,t){1&e&&(i.Nb(0,"div",0),i.Nb(1,"div",1),i.Nb(2,"button",2),i.Xb("click",function(){return t.addEmployee()}),i.wc(3,"Add"),i.Mb(),i.Nb(4,"h4"),i.wc(5,"List of Employees"),i.Mb(),i.Mb(),i.Nb(6,"div",3),i.Nb(7,"table",4),i.Nb(8,"thead"),i.Nb(9,"tr"),i.Nb(10,"th",5),i.wc(11,"Employee_id"),i.Mb(),i.Nb(12,"th"),i.wc(13,"Name"),i.Mb(),i.Nb(14,"th"),i.wc(15,"Role"),i.Mb(),i.Nb(16,"th",6),i.wc(17,"Phone no."),i.Mb(),i.Nb(18,"th",6),i.wc(19,"Action"),i.Mb(),i.Mb(),i.Mb(),i.Nb(20,"tbody"),i.uc(21,c,14,5,"tr",7),i.Mb(),i.Mb(),i.Mb(),i.Mb()),2&e&&(i.wb(21),i.ec("ngForOf",t.employees))},directives:[r.i],styles:[""]}),e})();var d=n("5eHb");const p=[{path:"employee-list",component:m},{path:"employee-add",component:(()=>{class e{constructor(e,t,n,o){this.toastr=e,this.router=t,this.activatedRoute=n,this.employeeService=o,this.firstname="",this.lastname="",this.phone_number=0,this.role="",this.username="",this.password="",this.employee=null}ngOnInit(){const e=this.activatedRoute.snapshot.queryParams.id;e&&this.employeeService.getEmployeesDetails(e).subscribe(e=>{if("success"==e.status){const t=e.data;Object.keys(t).length>0&&(this.employee=t,this.firstname=t.emp_first_name,this.lastname=t.emp_last_name,this.phone_number=t.emp_phone_no,this.username=t.username,this.password=t.password,this.role=t.role)}})}onUpdate(){this.employee?this.username.length<=8?this.toastr.error("username should be of more than 8 characters"):this.employeeService.updateEmployee(this.employee.emp_id,this.firstname,this.lastname,this.phone_number,this.role,this.username,this.password).subscribe(e=>{"success"==e.status&&this.router.navigate(["/adminHome/employee/employee-list"])}):this.username.length<=8?this.toastr.error("username should be of more than 8 characters"):this.employeeService.insertEmployee(this.firstname,this.lastname,this.phone_number,this.role,this.username,this.password).subscribe(e=>{"success"==e.status&&this.router.navigate(["/adminHome/employee/employee-list"])})}onCancel(){this.router.navigate(["/adminHome/employee/employee-list"])}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(d.b),i.Ib(a.b),i.Ib(a.a),i.Ib(l.a))},e.\u0275cmp=i.Cb({type:e,selectors:[["app-employee-add"]],decls:41,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","Manager"],["value","Chef"],["value","Delivery_Boy"],["ng-app","",1,"form-group"],["type","text","minlength","8","maxlength","15",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn-success","btn-sm",2,"margin-left","5px",3,"click"],[1,"btn-danger","btn-sm",2,"margin-left","5px",3,"click"]],template:function(e,t){1&e&&(i.Nb(0,"div",0),i.Nb(1,"div",1),i.Nb(2,"h4"),i.wc(3),i.Mb(),i.Mb(),i.Nb(4,"div",2),i.Nb(5,"div",3),i.Nb(6,"div",4),i.Nb(7,"label"),i.wc(8,"Firstname"),i.Mb(),i.Nb(9,"input",5),i.Xb("ngModelChange",function(e){return t.firstname=e}),i.Mb(),i.Mb(),i.Nb(10,"div",4),i.Nb(11,"label"),i.wc(12,"Lastname"),i.Mb(),i.Nb(13,"input",5),i.Xb("ngModelChange",function(e){return t.lastname=e}),i.Mb(),i.Mb(),i.Nb(14,"div",4),i.Nb(15,"label"),i.wc(16,"Phone number"),i.Mb(),i.Nb(17,"input",6),i.Xb("ngModelChange",function(e){return t.phone_number=e}),i.Mb(),i.Mb(),i.Nb(18,"div",4),i.Nb(19,"label"),i.wc(20,"Role"),i.Mb(),i.Nb(21,"select",7),i.Xb("ngModelChange",function(e){return t.role=e}),i.Nb(22,"option",8),i.wc(23,"Manager"),i.Mb(),i.Nb(24,"option",9),i.wc(25,"Chef"),i.Mb(),i.Nb(26,"option",10),i.wc(27,"Delevery Boy"),i.Mb(),i.Mb(),i.Mb(),i.Nb(28,"div",11),i.Nb(29,"label"),i.wc(30,"Username"),i.Mb(),i.Nb(31,"input",12),i.Xb("ngModelChange",function(e){return t.username=e}),i.Mb(),i.Mb(),i.Nb(32,"div",4),i.Nb(33,"label"),i.wc(34,"Password"),i.Mb(),i.Nb(35,"input",5),i.Xb("ngModelChange",function(e){return t.password=e}),i.Mb(),i.Mb(),i.Nb(36,"div",4),i.Nb(37,"button",13),i.Xb("click",function(){return t.onUpdate()}),i.wc(38),i.Mb(),i.Nb(39,"button",14),i.Xb("click",function(){return t.onCancel()}),i.wc(40,"Cancel"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb()),2&e&&(i.wb(3),i.yc("",t.employee?"Update":"Add"," employee"),i.wb(6),i.ec("ngModel",t.firstname),i.wb(4),i.ec("ngModel",t.lastname),i.wb(4),i.ec("ngModel",t.phone_number),i.wb(4),i.ec("ngModel",t.role),i.wb(10),i.ec("ngModel",t.username),i.wb(4),i.ec("ngModel",t.password),i.wb(3),i.xc(t.employee?"Update":"Add"))},directives:[s.a,s.g,s.h,s.j,s.l,s.i,s.m,s.d,s.c],styles:[""]}),e})()}];let u=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(t){return new(t||e)},imports:[[a.e.forChild(p)],a.e]}),e})(),h=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(t){return new(t||e)},imports:[[r.b,u,s.b,b.b,o.d]]}),e})()}}]);