(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"19mU":function(t,e,c){"use strict";c.r(e),c.d(e,"MenuModule",function(){return M});var s=c("1kSV"),i=c("tk/3"),n=c("ofXK"),r=c("fXoL"),b=c("tyNb"),o=c("5eHb"),a=c("EVJO");function u(t,e){if(1&t){const t=r.Ob();r.Nb(0,"tr"),r.Nb(1,"td"),r.wc(2),r.Mb(),r.Nb(3,"td"),r.wc(4),r.Mb(),r.Nb(5,"td"),r.wc(6),r.Mb(),r.Nb(7,"th"),r.Nb(8,"button",8),r.Xb("click",function(){r.mc(t);const c=e.$implicit;return r.Zb().updateQuantity(-1,c)}),r.wc(9,"-"),r.Mb(),r.wc(10),r.Nb(11,"button",8),r.Xb("click",function(){r.mc(t);const c=e.$implicit;return r.Zb().updateQuantity(1,c)}),r.wc(12,"+"),r.Mb(),r.Mb(),r.Nb(13,"td",9),r.Xb("ngModelChange",function(e){return r.mc(t),r.Zb().totalprice=e}),r.wc(14),r.Mb(),r.Nb(15,"td"),r.Nb(16,"button",10),r.Xb("click",function(){r.mc(t);const c=e.$implicit;return r.Zb().onDelete(c)}),r.wc(17,"Delete"),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit,c=e.index,s=r.Zb();r.wb(2),r.xc(c+1),r.wb(2),r.xc(t.mname),r.wb(2),r.xc(t.price),r.wb(4),r.yc(" ",t.quantity," "),r.wb(3),r.ec("ngModel",s.totalprice),r.wb(1),r.xc(t.total_amount)}}let l=(()=>{class t{constructor(t,e,c,s){this.modalService=t,this.router=e,this.toastr=c,this.cartService=s,this.items=[],this.totalAmount=0,this.totalprice=0}ngOnInit(){this.loadCartItems()}loadCartItems(){const t=""+sessionStorage.customer_id;this.cartService.getCartItemId(t).subscribe(t=>{if("success"==t.status){this.items=t.data,this.totalAmount=0;for(let t=0;t<this.items.length;t++)this.totalAmount+=parseFloat(this.items[t].total_amount)}})}onDelete(t){this.cartService.deleteCartItem(t.id).subscribe(t=>{"success"==t.status&&this.loadCartItems()})}updateQuantity(t,e){const c=""+sessionStorage.customer_id,s=e.quantity+t;0==s?this.onDelete(e):this.cartService.updateCartItem(e.id,c,e.menu_id,e.mname,s,e.price).subscribe(t=>{"success"==t.status&&this.loadCartItems()})}onCheckout(){this.router.navigate(["/home/order/preview"]),this.modalService.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(s.c),r.Ib(b.b),r.Ib(o.b),r.Ib(a.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-cart"]],decls:30,vars:2,consts:[[1,"modal-header"],[1,"btn","btn-success","float-right",3,"click"],[1,"modal-body"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["colspan","4"],["colspan","2"],["src","assets/cart.png","alt","",2,"margin-left","800px"],[1,"btn","btn-warning","btn-sm",3,"click"],[3,"ngModel","ngModelChange"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"h2"),r.wc(2,"Cart Items"),r.Mb(),r.Nb(3,"button",1),r.Xb("click",function(){return e.onCheckout()}),r.wc(4,"CheckOut"),r.Mb(),r.Mb(),r.Nb(5,"div",2),r.Nb(6,"table",3),r.Nb(7,"thead"),r.Nb(8,"tr"),r.Nb(9,"th"),r.wc(10,"No"),r.Mb(),r.Nb(11,"th"),r.wc(12,"Name"),r.Mb(),r.Nb(13,"th"),r.wc(14,"Price"),r.Mb(),r.Nb(15,"th"),r.wc(16,"Quantity"),r.Mb(),r.Nb(17,"th"),r.wc(18,"Total Amount"),r.Mb(),r.Nb(19,"th"),r.wc(20,"Actions"),r.Mb(),r.Mb(),r.Mb(),r.Nb(21,"tbody"),r.uc(22,u,18,6,"tr",4),r.Mb(),r.Nb(23,"tfoot"),r.Nb(24,"tr"),r.Nb(25,"th",5),r.wc(26,"Grand Toatl"),r.Mb(),r.Nb(27,"th",6),r.wc(28),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Jb(29,"img",7),r.Mb()),2&t&&(r.wb(22),r.ec("ngForOf",e.items),r.wb(6),r.xc(e.totalAmount))},directives:[n.i],styles:[""]}),t})(),d=(()=>{class t{constructor(t){this.httpClient=t,this.url="http://localhost:8080/menus"}getMenus(){return this.httpClient.get(this.url)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(i.a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",8),r.Nb(1,"div",9),r.Nb(2,"div",10),r.Nb(3,"h5",11),r.wc(4),r.Mb(),r.Nb(5,"p",12),r.wc(6),r.Mb(),r.Nb(7,"div",13),r.Nb(8,"strong"),r.wc(9,"Price: "),r.Mb(),r.wc(10),r.Mb(),r.Nb(11,"div",14),r.Nb(12,"strong"),r.wc(13,"Category: "),r.Mb(),r.wc(14),r.Mb(),r.Nb(15,"button",15),r.Xb("click",function(){r.mc(t);const c=e.$implicit;return r.Zb().addToCart(c)}),r.wc(16,"Add to cart"),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.wb(4),r.xc(t.mname),r.wb(2),r.xc(t.description),r.wb(4),r.xc(t.price),r.wb(4),r.yc(" ",t.menu_category,"")}}const h=[{path:"gallery",component:(()=>{class t{constructor(t,e,c,s){this.modalService=t,this.toastr=e,this.menuService=c,this.cartService=s,this.isDisabled=!1,this.menus=[],this.cart=null}ngOnInit(){this.loadMenus(),this.getCart()}loadMenus(){this.menuService.getMenus().subscribe(t=>{"success"==t.status&&(this.menus=t.data)})}addToCart(t){const e=""+sessionStorage.customer_id;this.cartService.addCartItem(e,t.menu_id,t.mname,t.price,1).subscribe(t=>{"success"==t.status&&this.toastr.success("Menu added to cart")})}getCart(){const t=""+sessionStorage.customer_id;this.cartService.getCartItemId(t).subscribe(t=>{"success"==t.status&&(this.cart=t.data)})}loadCart(){this.modalService.open(l,{size:"lg"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(s.c),r.Ib(o.b),r.Ib(d),r.Ib(a.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-gallery"]],decls:13,vars:1,consts:[[1,"row",2,"margin-bottom","40px","margin-top","10px"],[1,"col-md-12"],[1,"btn-success","float-right",3,"click"],[1,"row"],[1,"col-md-0"],[1,"form-group"],["style","margin-top: 20px;","class","col-md-4",4,"ngFor","ngForOf"],["src","assets/waiter-menu.jpg","alt","",2,"margin-left","800px","height","300px"],[1,"col-md-4",2,"margin-top","20px"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"price"],[1,"category"],[1,"btn","btn-success","btn-sm",2,"margin-top","10px",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"button",2),r.Xb("click",function(){return e.loadCart()}),r.wc(3,"Cart"),r.Mb(),r.Nb(4,"h2"),r.wc(5,"Menu"),r.Mb(),r.Mb(),r.Mb(),r.Nb(6,"div",3),r.Nb(7,"div",4),r.Jb(8,"div",5),r.Mb(),r.Nb(9,"div",1),r.Nb(10,"div",3),r.uc(11,m,17,4,"div",6),r.Mb(),r.Mb(),r.Jb(12,"img",7),r.Mb()),2&t&&(r.wb(11),r.ec("ngForOf",e.menus))},directives:[n.i],styles:[""]}),t})()},{path:"cart",component:l}];let p=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[b.e.forChild(h)],b.e]}),t})(),M=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[d],imports:[[n.b,p,i.b,s.d]]}),t})()}}]);