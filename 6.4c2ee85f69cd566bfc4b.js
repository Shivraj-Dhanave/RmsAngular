(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{MhOj:function(e,t,n){"use strict";n.r(t),n.d(t,"EmpMenuModule",function(){return p});var i=n("3Pt+"),c=n("tk/3"),s=n("1kSV"),r=n("ofXK"),b=n("fXoL"),o=n("tyNb");let u=(()=>{class e{constructor(e){this.httpClient=e,this.url="http://localhost:8080/menus"}getMenus(){return this.httpClient.get(this.url)}getMenusDetails(e){return this.httpClient.get(this.url+"/"+e)}updateMenu(e,t,n,i,c){return this.httpClient.put(this.url+"/"+e,{menu_id:e,mname:t,description:n,menu_category:i,price:c})}insertMenu(e,t,n,i){return this.httpClient.post(this.url,{mname:i,description:e,price:n,menu_category:t})}deleteMenu(e){return this.httpClient.delete(this.url+"/"+e)}}return e.\u0275fac=function(t){return new(t||e)(b.Ub(c.a))},e.\u0275prov=b.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),a=(()=>{class e{constructor(e,t,n){this.router=e,this.activatedRoute=t,this.empMenuService=n,this.mname="",this.description="",this.price=0,this.category="",this.menu=null}ngOnInit(){const e=this.activatedRoute.snapshot.queryParams.id;e&&this.empMenuService.getMenusDetails(e).subscribe(e=>{if("success"==e.status){const t=e.data;Object.keys(t).length>0&&(console.log(t),this.menu=t,this.mname=t.mname,this.description=t.description,this.price=t.price,this.category=t.menu_category)}})}onUpdate(){this.menu?this.empMenuService.updateMenu(this.menu.menu_id,this.mname,this.description,this.category,this.price).subscribe(e=>{"success"==e.status&&this.router.navigate(["/adminHome/emp-menu/menu-list"])}):this.empMenuService.insertMenu(this.description,this.category,this.price,this.mname).subscribe(e=>{"success"==e.status&&this.router.navigate(["/adminHome/emp-menu/menu-list"])})}onCancel(){this.router.navigate(["/adminHome/emp-menu/menu-list"])}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(o.b),b.Ib(o.a),b.Ib(u))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-menu-add"]],decls:40,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-md-6"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","Beverages"],["value","Dessert"],["value","Appetizers"],["value","Mains"],["value","Sandwiches"],["rows","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn-success","btn-sm",2,"margin-left","5px",3,"click"],[1,"btn-danger","btn-sm",2,"margin-left","5px",3,"click"]],template:function(e,t){1&e&&(b.Nb(0,"div",0),b.Nb(1,"div",1),b.Nb(2,"h4"),b.wc(3),b.Mb(),b.Mb(),b.Nb(4,"div",2),b.Nb(5,"div",3),b.Nb(6,"div",4),b.Nb(7,"label"),b.wc(8,"Name"),b.Mb(),b.Nb(9,"input",5),b.Xb("ngModelChange",function(e){return t.mname=e}),b.Mb(),b.Mb(),b.Nb(10,"div",6),b.Nb(11,"div",7),b.Nb(12,"div",4),b.Nb(13,"label"),b.wc(14,"Price"),b.Mb(),b.Nb(15,"input",8),b.Xb("ngModelChange",function(e){return t.price=e}),b.Mb(),b.Mb(),b.Mb(),b.Nb(16,"div",7),b.Nb(17,"div",4),b.Nb(18,"label"),b.wc(19,"Categoty"),b.Mb(),b.Nb(20,"select",9),b.Xb("ngModelChange",function(e){return t.category=e}),b.Nb(21,"option",10),b.wc(22,"Beverages"),b.Mb(),b.Nb(23,"option",11),b.wc(24,"Dessert"),b.Mb(),b.Nb(25,"option",12),b.wc(26,"Appetizers"),b.Mb(),b.Nb(27,"option",13),b.wc(28,"Mains"),b.Mb(),b.Nb(29,"option",14),b.wc(30,"Sandwiches"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(31,"div",4),b.Nb(32,"label"),b.wc(33,"Description"),b.Mb(),b.Nb(34,"textarea",15),b.Xb("ngModelChange",function(e){return t.description=e}),b.Mb(),b.Mb(),b.Nb(35,"div",4),b.Nb(36,"button",16),b.Xb("click",function(){return t.onUpdate()}),b.wc(37),b.Mb(),b.Nb(38,"button",17),b.Xb("click",function(){return t.onCancel()}),b.wc(39,"Cancel"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.wb(3),b.yc("",t.menu?"Update":"Add"," menu"),b.wb(6),b.ec("ngModel",t.mname),b.wb(6),b.ec("ngModel",t.price),b.wb(5),b.ec("ngModel",t.category),b.wb(14),b.ec("ngModel",t.description),b.wb(3),b.xc(t.menu?"Update":"Add"))},directives:[i.a,i.g,i.h,i.j,i.l,i.i,i.m],styles:[""]}),e})();function d(e,t){if(1&e){const e=b.Ob();b.Nb(0,"tr"),b.Nb(1,"td"),b.wc(2),b.Mb(),b.Nb(3,"td"),b.wc(4),b.Mb(),b.Nb(5,"td"),b.wc(6),b.Mb(),b.Nb(7,"td"),b.wc(8),b.Mb(),b.Nb(9,"td"),b.wc(10),b.Mb(),b.Nb(11,"td"),b.Nb(12,"button",6),b.Xb("click",function(){b.mc(e);const n=t.$implicit;return b.Zb().onEdit(n)}),b.wc(13,"Edit"),b.Mb(),b.Nb(14,"button",7),b.Xb("click",function(){b.mc(e);const n=t.$implicit;return b.Zb().onDelete(n)}),b.wc(15,"Delete"),b.Mb(),b.Mb(),b.Mb()}if(2&e){const e=t.$implicit;b.wb(2),b.xc(e.menu_id),b.wb(2),b.xc(e.mname),b.wb(2),b.xc(e.description),b.wb(2),b.xc(e.menu_category),b.wb(2),b.xc(e.price)}}const l=[{path:"menu-list",component:(()=>{class e{constructor(e,t){this.router=e,this.empMenuService=t,this.menus=[{}]}ngOnInit(){this.loadMenus()}loadMenus(){this.empMenuService.getMenus().subscribe(e=>{(e.status="success")?this.menus=e.data:console.log(e.error)})}onEdit(e){this.router.navigate(["/adminHome/emp-menu/menu-add"],{queryParams:{id:e.menu_id}})}onDelete(e){console.log(e.menu_id),this.empMenuService.deleteMenu(e.menu_id).subscribe(e=>{"success"==e.status?this.loadMenus():console.log("item not deleted")})}addMenu(){this.router.navigate(["/adminHome/emp-menu/menu-add"])}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(o.b),b.Ib(u))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-menu-list"]],decls:24,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-success","float-right",2,"margin-left","10px",3,"click"],[1,"card-body"],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",2,"margin-left","10px",3,"click"],[1,"btn","btn-danger","btn-sm",2,"margin-left","10px",3,"click"]],template:function(e,t){1&e&&(b.Nb(0,"div",0),b.Nb(1,"div",1),b.Nb(2,"button",2),b.Xb("click",function(){return t.addMenu()}),b.wc(3,"Add"),b.Mb(),b.Nb(4,"h4"),b.wc(5,"Menu"),b.Mb(),b.Mb(),b.Nb(6,"div",3),b.Nb(7,"table",4),b.Nb(8,"thead"),b.Nb(9,"tr"),b.Nb(10,"th"),b.wc(11,"Id"),b.Mb(),b.Nb(12,"th"),b.wc(13,"Name"),b.Mb(),b.Nb(14,"th"),b.wc(15,"Description"),b.Mb(),b.Nb(16,"th"),b.wc(17,"Category"),b.Mb(),b.Nb(18,"th"),b.wc(19,"Price"),b.Mb(),b.Nb(20,"th"),b.wc(21,"Action"),b.Mb(),b.Mb(),b.Mb(),b.Nb(22,"tbody"),b.uc(23,d,16,5,"tr",5),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.wb(23),b.ec("ngForOf",t.menus))},directives:[r.i],styles:[""]}),e})()},{path:"menu-add",component:a}];let m=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[o.e.forChild(l)],o.e]}),e})(),p=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[r.b,m,i.b,c.b,s.d]]}),e})()}}]);